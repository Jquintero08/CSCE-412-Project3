\doxysection{Load\+Balancer.\+h}
\hypertarget{_load_balancer_8h_source}{}\label{_load_balancer_8h_source}\mbox{\hyperlink{_load_balancer_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ LOADBALANCER\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ LOADBALANCER\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_web_server_8h}{WebServer.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_load_balancer}{LoadBalancer}}\ \{}
\DoxyCodeLine{00020\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{class_load_balancer_a0c9ed4281450182c76b710a583487363}{LoadBalancer}}(\textcolor{keywordtype}{size\_t}\ maxNumServers);}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{class_load_balancer}{\string~LoadBalancer}}();}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_load_balancer_ae56b9a73ddcdb52980d5390f2ba7bd69}{distributeReq}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_request}{Request}}\&\ request,\ \textcolor{keywordtype}{int}\ currTime);\ \textcolor{comment}{//gives\ a\ request\ to\ a\ server\ to\ process\ only\ if\ it\ is\ available\ or\ adds\ it\ to\ the\ main\ queue}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_load_balancer_ae50e1209506da4b238b8aec9d122cbe3}{simTime}}(\textcolor{keywordtype}{int}\ currTime);\ \textcolor{comment}{//Simulates\ time\ step\ in\ the\ system,\ updates\ servers\ and\ processes\ queued\ requests}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_load_balancer_ae03a6669a9dfc19c26f20811f70e2c9c}{getRunningServerCount}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00051\ \ \ \ \ vector<int>\ \mbox{\hyperlink{class_load_balancer_a4fdab3b7fd1babc229f123515f930108}{getRunningServers}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_load_balancer_a62df7b94c22e8e16b22d2cd758b7824e}{getRequestQueueSize}}()\ \textcolor{keyword}{const};\ \textcolor{comment}{//gets\ the\ number\ of\ remaining\ requests\ in\ the\ main\ queue}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00063\ \ \ \ \ vector<int>\ \mbox{\hyperlink{class_load_balancer_a7e1d150d3d33fd80dea013b9ceaa08e7}{getNotRunningServers}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00066\ \ \ \ \ vector<WebServer*>\ runningServers;\ \textcolor{comment}{//Vector\ of\ active\ servers}}
\DoxyCodeLine{00067\ \ \ \ \ vector<WebServer*>\ notRunningServers;\ \textcolor{comment}{//Vector\ of\ idle\ servers}}
\DoxyCodeLine{00068\ \ \ \ \ queue<Request>\ reqQueue;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ maxNumServers;\ \textcolor{comment}{//Maximum\ amount\ of\ servers\ allowed\ to\ be\ activated}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ minNumServers;\ \textcolor{comment}{//Minimum\ number\ of\ servers\ allowed\ to\ be\ activated\ (will\ automatically\ start\ up\ upon\ running\ the\ code)}}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ nextServerID;\ }
\DoxyCodeLine{00073\ \ \ \ \ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ idleServerCountToRemove;\ \textcolor{comment}{//How\ many\ idle\ servers\ before\ removing\ any}}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ reqQueueSizeToAdd;\ \textcolor{comment}{//How\ many\ requests\ in\ queue\ to\ trigger\ the\ activation\ of\ a\ new\ server}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ procQueuedReqs(\textcolor{keywordtype}{int}\ currTime);\ \textcolor{comment}{//Processes\ queued\ requests\ by\ giving\ them\ to\ a\ server}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ addServer(\textcolor{keywordtype}{int}\ currTime);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{void}\ delServer(\textcolor{keywordtype}{int}\ currTime);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{bool}\ checkServerUtil();\ \textcolor{comment}{//Check\ if\ the\ servers\ are\ being\ underutilized}}
\DoxyCodeLine{00100\ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
